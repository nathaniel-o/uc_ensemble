{"version":3,"file":"frontend.js","mappings":"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","sources":["webpack://drinks-plugin/./src/frontend.js"],"sourcesContent":["/**\n * Drinks Plugin - Frontend Lightbox Functionality\n */\n\n// Lightbox state\nlet currentLightbox = null;\nlet isAnimating = false;\nlet currentDrinksContentLightbox = null;\nlet currentCarousel = null;\nlet currentCarouselFilterTerm = ''; // Track current filter term for \"See More\" button\n\n/**\n * Initialize lightbox functionality\n */\nfunction initLightbox() {\n    ////console.log('Drinks Plugin: initLightbox');\n    \n    // Add click handlers to lightbox containers\n    document.addEventListener('click', handleLightboxClick);\n    \n    // Add click handlers for cocktail-specific features\n    document.addEventListener('click', handleCocktailPopOutClick);\n    // Add carousel click handler (moved from PHP inline script)\n    document.addEventListener('click', handleCocktailCarouselClick);\n    // Add click handler for drink metadata filter links\n    document.addEventListener('click', handleDrinkFilterLinkClick);\n    \n    // Add keyboard support\n    document.addEventListener('keydown', handleLightboxKeydown);\n    \n    // Add touch support for mobile\n    document.addEventListener('touchstart', handleLightboxTouch, { passive: true });\n    \n    // Setup lightbox for existing images\n    setupLightboxForImages();\n    \n    // Setup cocktail features for existing images\n    setupCocktailFeaturesForImages();\n    \n    // Setup observer for dynamically added content\n    setupLightboxObserver();\n    \n    // Setup pre-existing carousel overlay\n    setupCarouselOverlay();\n}\n\n\n\n/**\n * Handle clicks on basic lightbox containers (data-wp-lightbox)\n */\nfunction handleLightboxClick(event) {\n    ////console.log('Drinks Plugin: handleLightboxClick');\n    const container = event.target.closest('[data-wp-lightbox]');\n    if (!container) return;\n\n    // Check if this container has cocktail-specific functionality that should override basic lightbox\n    if (container.hasAttribute('data-cocktail-pop-out') || container.hasAttribute('data-cocktail-carousel')) {\n        // Let the cocktail-specific handlers deal with this\n        return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    const img = container.querySelector('img');\n    if (!img) return;\n\n    openLightbox(img, container);\n}\n\n/**\n * Handle clicks on cocktail pop-out containers (drinks content)\n */\nfunction handleCocktailPopOutClick(event) {\n    const container = event.target.closest('[data-cocktail-pop-out=\"true\"]');\n    if (!container) return;\n\n    const img = container.querySelector('img');\n    if (!img) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n    // ////console.log('Drinks Plugin: Opening cocktail pop-out for image:', img.src);\n    openCocktailPopOutLightbox(img, container);\n}\n\n/**\n * Handle clicks on cocktail carousel containers (Jetpack slideshow)\n * Matches PHP handleJetpackCarouselImageClick detection logic\n */\nfunction handleCocktailCarouselClick(event) {\n    //console.log('Drinks Plugin: handleCocktailCarouselClick');\n    // Look for both attribute and class (matches PHP version)\n    const container = event.target.closest('[data-cocktail-carousel=\"true\"], .cocktail-carousel, [data-carousel-enabled]');\n    if (!container) return;\n    \n    // Check if this is actually a carousel container (not pop-out)\n    if (container.getAttribute('data-cocktail-pop-out') === 'true') {\n        // This is a pop-out, not a carousel - let pop-out handler deal with it\n        return;\n    }\n\n    // Find the image - either the target itself or within the container\n    let img = null;\n    if (event.target.tagName === 'IMG') {\n        img = event.target;\n    } else {\n        img = container.querySelector('img');\n    }\n    \n    if (!img) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n    // ////console.log('Drinks Plugin (frontend.js): Opening cocktail carousel slideshow for image:', img.src);\n    // ////console.log('Drinks Plugin (frontend.js): Container classes:', container.className);\n    // ////console.log('Drinks Plugin (frontend.js): Container attributes:', container.getAttribute('data-cocktail-carousel'));\n    ucSummonCarousel({\n        matchTerm: '',\n        filterTerm: '',\n        container: container,\n        isOverlay: true,\n        closePopOut: true\n    });\n}\n\n/**\n * Handle clicks on drink metadata filter links\n * Opens carousel filtered by the clicked metadata term\n */\nfunction handleDrinkFilterLinkClick(event) {\n    const link = event.target.closest('.drink-filter-link');\n    if (!link) return;\n    \n    event.preventDefault();\n    event.stopPropagation();\n    \n    // Get the filter term from data attribute\n    const filterTerm = link.getAttribute('data-filter');\n    \n    if (!filterTerm) {\n        console.error('Drinks Plugin: No filter term found on link');\n        return;\n    }\n    \n    ucSummonCarousel({\n        matchTerm: '',\n        filterTerm: filterTerm,\n        container: null,\n        isOverlay: true,\n        closePopOut: true\n    });\n}\n\n/**\n * Handle keyboard events\n */\nfunction handleLightboxKeydown(event) {\n    if (!currentLightbox) return;\n\n    if (event.key === 'Escape') {\n        closeLightbox();\n    }\n}\n\n/**\n * Handle touch events for mobile\n */\nfunction handleLightboxTouch(event) {\n    if (!currentLightbox) return;\n\n    // Close on tap outside image\n    if (event.target === currentLightbox) {\n        closeLightbox();\n    }\n}\n\n/**\n * Open lightbox\n */\n    function openLightbox(img, container) {\n        if (isAnimating) return;\n\n        // ////console.log('Drinks Plugin: Opening lightbox for image:', img.src);\n\n    // Get image data\n    const src = img.src;\n    const alt = img.alt || '';\n    let caption = '';\n\n    // Get caption if it exists\n    const figcaption = container.querySelector('figcaption');\n    if (figcaption) {\n        caption = figcaption.textContent;\n    }\n\n    // Create overlay\n    const overlay = createLightboxOverlay(src, alt, caption);\n    document.body.appendChild(overlay);\n\n    // Show lightbox\n    requestAnimationFrame(() => {\n        overlay.classList.add('active');\n        currentLightbox = overlay;\n        document.body.style.overflow = 'hidden';\n    });\n}\n\n/**\n * Open cocktail pop-out drinks content lightbox\n * Modified for two-level pop-out system: pop-out -> carousel\n */\nfunction openCocktailPopOutLightbox(img, container) {\n    //console.log('Drinks Plugin: openCocktailPopOutLightbox');\n    // Extract image ID from class name (wp-image-123) or data attributes\n    let imageId = img.dataset.id || img.getAttribute('data-id') || '';\n    if (!imageId) {\n        // Try to extract from class name like \"wp-image-123\"\n        const classMatch = img.className.match(/wp-image-(\\d+)/);\n        if (classMatch) {\n            imageId = classMatch[1];\n        }\n    }\n    \n    const imageSrc = img.src;\n    const imageAlt = img.alt || 'Drink Image';\n    \n    // Create drinks content pop-out overlay\n    const overlay = createDrinksContentLightboxOverlay(imageSrc, imageAlt);\n    document.body.appendChild(overlay);\n    \n    // Load drink content for lightbox\n    // Pass container so click handlers can be set up after content loads\n    loadDrinksForContentLightbox(overlay, imageId, img, container);\n    \n    // Show pop-out\n    requestAnimationFrame(() => {\n        overlay.classList.add('active');\n        currentDrinksContentLightbox = overlay;\n        document.body.style.overflow = 'hidden';\n    });\n}\n\n/**\n * Setup pop-out to carousel click functionality\n * Only image and h1 trigger random carousel; links trigger filtered carousel\n */\nfunction setupPopOutToCarouselClick(overlay, img, container) {\n    // Find the image and h1 in the pop-out\n    const popoutImage = overlay.querySelector('.drinks-content-popout img');\n    const popoutH1 = overlay.querySelector('.drinks-content-popout h1');\n    \n    // Add click handler to image\n    if (popoutImage) {\n        popoutImage.style.cursor = 'pointer';\n        popoutImage.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            \n            // Close the pop-out and open carousel with random drinks\n            closeDrinksContentLightbox();\n            \n            // Small delay to ensure pop-out closes before carousel opens\n            setTimeout(() => {\n                // Use carousel for pop-out context (random drinks)\n                ucSummonCarousel({\n                    matchTerm: '',\n                    filterTerm: '',\n                    container: null,\n                    isOverlay: true,\n                    closePopOut: true\n                });\n            }, 100);\n        });\n    }\n    \n    // Add click handler to h1\n    if (popoutH1) {\n        popoutH1.style.cursor = 'pointer';\n        popoutH1.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            \n            // Close the pop-out and open carousel with random drinks\n            closeDrinksContentLightbox();\n            \n            // Small delay to ensure pop-out closes before carousel opens\n            setTimeout(() => {\n                // Use carousel for pop-out context (random drinks)\n                ucSummonCarousel({\n                    matchTerm: '',\n                    filterTerm: '',\n                    container: null,\n                    isOverlay: true,\n                    closePopOut: true\n                });\n            }, 100);\n        });\n    }\n}\n\n/**\n * Unified carousel summoning function\n * Handles all carousel opening scenarios with configurable context\n * \n * @param {Object} context - Configuration object\n * @param {string} context.matchTerm - Drink name to match/start with (empty string for none)\n * @param {string} context.filterTerm - Category/tag to filter by (empty string for none)\n * @param {HTMLElement} context.container - Container element for clicked drink (null if none)\n * @param {boolean} context.isOverlay - True for overlay mode (hides body scroll), false for inline\n * @param {boolean} context.closePopOut - Whether to close any existing pop-out lightbox first\n * @param {HTMLElement} context.moveToElement - Optional: element to move overlay into (for inline mode on search page)\n */\nfunction ucSummonCarousel(context) {\n    console.log(\"atLEAST\");\n    // Close any existing pop-out lightbox if requested\n    if (context.closePopOut && currentDrinksContentLightbox) {\n        closeDrinksContentLightbox();\n    }\n    \n    // Get the carousel overlay\n    const overlay = document.getElementById('drinks-carousel-overlay');\n    if (!overlay) {\n        console.error('Drinks Plugin: Carousel overlay not found in DOM');\n        return;\n    }\n    \n    // Move overlay into specified element for inline display (search page)\n    if (context.moveToElement) {\n        context.moveToElement.appendChild(overlay);\n    }\n    \n    // Load carousel images with specified parameters\n    loadCarouselImages(\n        overlay, \n        context.matchTerm || '', \n        context.filterTerm || '', \n        context.container || null\n    );\n    \n    // Show carousel\n    requestAnimationFrame(() => {\n        overlay.style.opacity = '1';\n        overlay.style.pointerEvents = 'auto';\n        overlay.classList.add('active');\n        currentCarousel = overlay;\n        \n        // Handle body overflow based on display mode\n        if (context.isOverlay) {\n            document.body.style.overflow = 'hidden';\n        }\n    });\n}\n\n/**\n * Close lightbox\n */\n    function closeLightbox() {\n        if (!currentLightbox || isAnimating) return;\n\n        // ////console.log('Drinks Plugin: Closing lightbox');\n\n    isAnimating = true;\n    currentLightbox.classList.remove('active');\n    document.body.style.overflow = '';\n\n    setTimeout(() => {\n        if (currentLightbox && currentLightbox.parentNode) {\n            currentLightbox.parentNode.removeChild(currentLightbox);\n        }\n        currentLightbox = null;\n        isAnimating = false;\n    }, 300);\n}\n\n/**\n * Close drinks content lightbox\n */\nfunction closeDrinksContentLightbox() {\n    // ////console.log('Drinks Plugin (closeDrinksContentLightbox): closeDrinksContentPopOut called');\n    // ////console.log('Drinks Plugin (closeDrinksContentLightbox): Current pop-out lightbox:', currentDrinksContentLightbox);\n    \n    if (!currentDrinksContentLightbox) {\n        // ////console.log('Drinks Plugin (closeDrinksContentLightbox): No current lightbox to close');\n        return;\n    }\n    \n    // ////console.log('Drinks Plugin (closeDrinksContentLightbox): Removing active class and closing pop-out');\n    currentDrinksContentLightbox.classList.remove('active');\n    document.body.style.overflow = '';\n    \n    setTimeout(() => {\n        if (currentDrinksContentLightbox && currentDrinksContentLightbox.parentNode) {\n            // ////console.log('Drinks Plugin (closeDrinksContentLightbox): Removing pop-out from DOM');\n            currentDrinksContentLightbox.parentNode.removeChild(currentDrinksContentLightbox);\n        }\n        currentDrinksContentLightbox = null;\n        // ////console.log('Drinks Plugin (closeDrinksContentLightbox): Pop-out closed successfully');\n    }, 300);\n}\n\n/**\n * Create lightbox overlay\n */\nfunction createLightboxOverlay(src, alt, caption) {\n    const overlay = document.createElement('div');\n    overlay.className = 'drinks-lightbox-overlay';\n    overlay.innerHTML = `\n        <div class=\"drinks-lightbox-content\">\n            <button class=\"drinks-lightbox-close\" aria-label=\"Close lightbox\">&times;</button>\n            <img class=\"drinks-lightbox-image\" src=\"${src}\" alt=\"${alt}\" />\n            ${caption ? `<div class=\"drinks-lightbox-caption\">${caption}</div>` : ''}\n        </div>\n    `;\n\n    // Add close button handler\n    const closeButton = overlay.querySelector('.drinks-lightbox-close');\n    closeButton.addEventListener('click', closeLightbox);\n\n    // Add click outside to close\n    overlay.addEventListener('click', (e) => {\n        if (e.target === overlay) {\n            closeLightbox();\n        }\n    });\n\n    return overlay;\n}\n\n/**\n * Create drinks content lightbox overlay\n */\nfunction createDrinksContentLightboxOverlay(initialImageSrc, initialImageAlt) {\n    const overlay = document.createElement('div');\n    // Keep existing class for styling, add specific pop-out class for clarity\n    // Prefer pop-out/lightbox class, keep jetpack class only for legacy styles if present elsewhere\n    overlay.className = 'drinks-lightbox-overlay drinks-popout-overlay';\n    overlay.innerHTML = `\n        <div class=\"drinks-lightbox-content drinks-popout-content\">\n            <div class=\"drinks-lightbox-header drinks-popout-header\">\n                <button type=\"button\" class=\"drinks-lightbox-close\" aria-label=\"Close pop-out\">&times;</button>\n            </div>\n            <div class=\"drinks-lightbox-body drinks-popout-body\">\n                <div class=\"drinks-content-popout\" id=\"drinks-content-popout\">\n                    <div class=\"drink-content-slide active\" id=\"initial-drink-content\">\n                        <!-- Initial drink content will be loaded here -->\n                        <div class=\"drink-content-loading\">\n                            <div class=\"drink-content-loading-spinner\"></div>\n                            Loading drink content...\n                        </div>\n                        \n                        <!-- Navigation controls -->\n                        <div class=\"drinks-content-navigation\">\n                            <button class=\"drinks-content-prev\" aria-label=\"Previous drink\">&larr;</button>\n                            <button class=\"drinks-content-next\" aria-label=\"Next drink\">&rarr;</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n    \n    // Add event listeners\n    const closeButton = overlay.querySelector('.drinks-lightbox-close');\n    if (closeButton) {\n        // ////console.log('Drinks Plugin (setupLightboxForImages): Close button found, adding click listener');\n        closeButton.addEventListener('click', (e) => {\n            // ////console.log('Drinks Plugin (setupLightboxForImages): Close button clicked');\n            e.preventDefault();\n            e.stopPropagation();\n            closeDrinksContentLightbox();\n        });\n    } else {\n        // console.error('Drinks Plugin (setupLightboxForImages): Close button not found in overlay');\n    }\n    \n    // Close on overlay click\n    overlay.addEventListener('click', (e) => {\n        if (e.target === overlay) {\n            closeDrinksContentLightbox();\n        }\n    });\n    \n    return overlay;\n}\n\n/**\n * Setup lightbox for existing images\n */\n    function setupLightboxForImages() {\n        const images = document.querySelectorAll('[data-wp-lightbox] img');\n        // ////console.log('Drinks Plugin: Found', images.length, 'lightbox images');\n    \n    images.forEach(img => {\n        // Images are already wrapped in containers with data-wp-lightbox\n        // Just ensure they have proper styling\n        const container = img.closest('[data-wp-lightbox]');\n        if (container) {\n            container.style.cursor = 'pointer';\n        }\n    });\n}\n\n/**\n * Setup cocktail features for existing images\n */\nfunction setupCocktailFeaturesForImages() {\n    const cocktailPopOutContainers = document.querySelectorAll('[data-cocktail-pop-out=\"true\"]');\n    cocktailPopOutContainers.forEach(container => {\n        container.style.cursor = 'pointer';\n        // ////console.log('Drinks Plugin (initLightbox): Set cursor pointer on cocktail pop-out container');\n    });\n\n    const cocktailCarouselContainers = document.querySelectorAll('[data-cocktail-carousel=\"true\"]');\n    cocktailCarouselContainers.forEach(container => {\n        container.style.cursor = 'pointer';\n        // ////console.log('Drinks Plugin (initLightbox): Set cursor pointer on cocktail carousel container');\n    });\n}\n\n/**\n * Setup lightbox observer for dynamically added content\n */\nfunction setupLightboxObserver() {\n    const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n            if (mutation.addedNodes.length > 0) {\n                mutation.addedNodes.forEach((node) => {\n                    if (node.nodeType === 1 && node.querySelector) {\n                        const lightboxImages = node.querySelectorAll('[data-wp-lightbox] img');\n                        lightboxImages.forEach(img => {\n                            const container = img.closest('[data-wp-lightbox]');\n                            if (container) {\n                                container.style.cursor = 'pointer';\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    });\n\n    observer.observe(document.body, {\n        childList: true,\n        subtree: true\n    });\n}\n\n/**\n * Load drinks for content lightbox\n */\nfunction loadDrinksForContentLightbox(overlay, excludeImageId, img, container) {\n    const contentContainer = overlay.querySelector('#drinks-content-popout');\n    if (!contentContainer) {\n        console.error('Drinks Plugin: No drinks content container found');\n        return;\n    }\n    \n    // ////console.log('Drinks Plugin (loadDrinksContent): Starting to load drinks content for pop-out...');\n    // ////console.log('Drinks Plugin (loadDrinksContent): Exclude ID:', excludeImageId);\n    \n    // Show loading state\n    const loadingElement = contentContainer.querySelector('.drink-content-loading');\n    if (loadingElement) {\n        loadingElement.innerHTML = '<div class=\"drink-content-loading-spinner\"></div>Loading drink content...';\n    }\n    \n    // Make AJAX call to get drink content\n    const formData = new FormData();\n    formData.append('action', 'get_drink_content');\n    formData.append('image_id', excludeImageId);\n    \n    // Use localized WordPress AJAX URL\n    const ajaxUrl = window.drinksPluginAjax ? window.drinksPluginAjax.ajaxurl : '/wp-admin/admin-ajax.php';\n    // ////console.log('Drinks Plugin (loadDrinksContent): Using AJAX URL for pop-out:', ajaxUrl);\n    \n    fetch(ajaxUrl, {\n        method: 'POST',\n        body: formData\n    })\n    .then(response => {\n        // ////console.log('Drinks Plugin (loadDrinksContent): AJAX response status:', response.status);\n        return response.json();\n    })\n    .then(data => {\n        // ////console.log('Drinks Plugin (loadDrinksContent): AJAX response data (pop-out):', data);\n        \n        // Remove loading state\n        const loadingElement = contentContainer.querySelector('.drink-content-loading');\n        if (loadingElement) {\n            loadingElement.remove();\n        }\n        \n        if (data.success && data.data) {\n            // ////console.log('Drinks Plugin (loadDrinksContent): Found drink content, displaying in pop-out');\n            contentContainer.innerHTML = data.data;\n            \n            // Apply dynamic styling based on drink category\n            ucStyleLightBoxesByPageID(img);\n            \n            // Add navigation event listeners\n            addDrinksContentNavigation(overlay);\n            \n            // Add click handler to pop-out content to open carousel\n            // This must happen AFTER content is loaded and img/h1 elements exist\n            setupPopOutToCarouselClick(overlay, img, container);\n        } else {\n            // ////console.log('Drinks Plugin (loadDrinksContent): No drink content found in pop-out response');\n            contentContainer.innerHTML = '<div class=\"drink-content-error\">No drink content available</div>';\n        }\n        \n        // ////console.log('Drinks Plugin (loadDrinksContent): Drink content loaded successfully (pop-out)');\n    })\n    .catch(error => {\n        console.error('Drinks Plugin: Error loading drinks content:', error);\n        const loadingElement = contentContainer.querySelector('.drink-content-loading');\n        if (loadingElement) {\n            loadingElement.innerHTML = '<div class=\"drink-content-error\">Error loading drink content</div>';\n        }\n    });\n}\n\n/**\n * Add navigation event listeners for drinks content\n */\nfunction addDrinksContentNavigation(overlay) {\n    const prevButton = overlay.querySelector('.drinks-content-prev');\n    const nextButton = overlay.querySelector('.drinks-content-next');\n    \n    if (prevButton) {\n        prevButton.addEventListener('click', () => {\n            // ////console.log('Drinks Plugin (addDrinksContentNavigation): Previous button clicked');\n            // TODO: Implement previous drink navigation\n        });\n    }\n    \n    if (nextButton) {\n        nextButton.addEventListener('click', () => {\n            // ////console.log('Drinks Plugin (addDrinksContentNavigation): Next button clicked');\n            // TODO: Implement next drink navigation\n        });\n    }\n}\n\n/**\n * Test function for drinks content lightbox\n */\nfunction testDrinksContent() {\n    // ////console.log('Drinks Plugin (testDrinksContent): Testing drinks content lightbox system...');\n    // ////console.log('Drinks Plugin (testDrinksContent): Global object available:', !!window.drinksPluginDrinksContent);\n    // ////console.log('Drinks Plugin (testDrinksContent): Current drinks content lightbox:', currentDrinksContentLightbox);\n    \n    const containers = document.querySelectorAll('[data-cocktail-pop-out=\"true\"]');\n    // ////console.log('Drinks Plugin (testDrinksContent): Found', containers.length, 'cocktail-pop-out containers');\n    \n    if (containers.length > 0) {\n        // ////console.log('Drinks Plugin (testDrinksContent): First container:', containers[0]);\n        // ////console.log('Drinks Plugin (testDrinksContent): First container classes:', containers[0].className);\n    }\n    \n    return {\n        containers: containers.length,\n        lightbox: !!currentDrinksContentLightbox,\n        global: !!window.drinksPluginPopOut\n    };\n}\n\n/**\n * Setup event listeners for pre-existing carousel overlay\n */\nfunction setupCarouselOverlay() {\n    const overlay = document.getElementById('drinks-carousel-overlay');\n    if (!overlay) {\n        console.error('Drinks Plugin: Carousel overlay not found in DOM');\n        return;\n    }\n    \n    // Add event listeners\n    const closeButton = overlay.querySelector('.jetpack-carousel-lightbox-close');\n    if (closeButton) {\n        closeButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            closeCarousel();\n        });\n    }\n    \n    // Add \"See More\" button handler\n    const seeMoreButton = overlay.querySelector('.drinks-carousel-see-more');\n    if (seeMoreButton) {\n        seeMoreButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            handleSeeMoreClick();\n        });\n    }\n    \n    // Close on overlay click\n    overlay.addEventListener('click', (e) => {\n        if (e.target === overlay) {\n            closeCarousel();\n        }\n    });\n}\n\n/**\n * Close carousel\n */\nfunction closeCarousel() {\n    // ////console.log('Drinks Plugin (closeCarousel): closeCarousel called');\n    // ////console.log('Drinks Plugin (closeCarousel): Current carousel:', currentCarousel);\n    \n    // If currentCarousel not tracked, find active overlay in DOM\n    let carouselToClose = currentCarousel;\n    if (!carouselToClose) {\n        carouselToClose = document.querySelector('.jetpack-carousel-lightbox-overlay.active');\n        // ////console.log('Drinks Plugin (closeCarousel): Found active overlay in DOM:', !!carouselToClose);\n    }\n    \n    if (!carouselToClose) {\n        // ////console.log('Drinks Plugin (closeCarousel): No current carousel to close');\n        return;\n    }\n    \n    // ////console.log('Drinks Plugin (closeCarousel): Removing active class and closing carousel');\n    carouselToClose.classList.remove('active');\n    document.body.style.overflow = '';\n    \n    setTimeout(() => {\n        // Hide the overlay instead of removing it\n        if (carouselToClose) {\n            carouselToClose.style.opacity = '0';\n            carouselToClose.style.pointerEvents = 'none';\n            // Clear slides for next use\n            const slidesContainer = carouselToClose.querySelector('#jetpack-carousel-slides');\n            if (slidesContainer) {\n                slidesContainer.innerHTML = '';\n            }\n        }\n        currentCarousel = null;\n        // ////console.log('Drinks Plugin (closeCarousel): Carousel closed successfully');\n    }, 300);\n}\n\n/**\n * Handle \"See More\" button click\n * Redirects to search page with current filter term\n */\nfunction handleSeeMoreClick() {\n    debugger;\n    // Close the carousel\n    closeCarousel();\n    \n    // Build search URL using WordPress home URL (handles subdirectory installs)\n    const homeUrl = window.drinksPluginConfig?.homeUrl || '/';\n    const searchUrl = homeUrl + '?s=' + encodeURIComponent(currentCarouselFilterTerm || '');\n    \n    console.log('Drinks Plugin: Redirecting to search page:', searchUrl);\n    \n    // Redirect to search page\n    window.location.href = searchUrl;\n}\n\n/**\n * Load carousel images (Jetpack slideshow)\n * Mirrors PHP uc_image_carousel($match_term, $filter_term, $options)\n * @param {HTMLElement} overlay - The carousel overlay element\n * @param {string} matchTerm - Text to match for first slide (empty = no priority)\n * @param {string} filterTerm - Search term to filter drinks (empty = no filter)\n * @param {HTMLElement} container - Optional container for auto-extracting figcaption\n * \n * Behaviors:\n * - Both empty  Random carousel\n * - matchTerm only  Matched drink first, then random\n * - filterTerm only  Filtered drinks, no priority\n * - Both  Matched drink first, then filtered drinks\n */\nfunction loadCarouselImages(overlay, matchTerm = '', filterTerm = '', container = null) {\n    const slidesContainer = overlay.querySelector('#jetpack-carousel-slides');\n    if (!slidesContainer) {\n        console.error('Drinks Plugin: No slides container found');\n        return;\n    }\n    \n    // Auto-extract figcaption if container provided and no explicit matchTerm\n    if (!matchTerm && container) {\n        const figcaption = container.querySelector('figcaption');\n        matchTerm = figcaption ? figcaption.textContent.trim() : '';\n    }\n    \n    // Store filter term for \"See More\" button\n    currentCarouselFilterTerm = filterTerm;\n    \n    // Debug statement matching PHP format\n    const matchDisplay = matchTerm || 'empty';\n    const filterDisplay = filterTerm || 'empty';\n    \n    // Determine and log which MODE will be triggered\n    if (filterTerm) {\n        console.log(`Carousel MODE 1: Filter, Parameters: matchTerm=\"${matchDisplay}\", filterTerm=\"${filterDisplay}\"`);\n    } else if (matchTerm) {\n        console.log(`Carousel MODE 2: Match, Parameters: matchTerm=\"${matchDisplay}\", filterTerm=\"${filterDisplay}\"`);\n    } else {\n        console.log(`Carousel MODE 3: Random, Parameters: matchTerm=\"${matchDisplay}\", filterTerm=\"${filterDisplay}\"`);\n    }\n    \n    \n    // Show loading state\n    slidesContainer.innerHTML = '<li class=\"wp-block-jetpack-slideshow_slide swiper-slide\"><div class=\"jetpack-carousel-loading\"><div class=\"jetpack-carousel-loading-spinner\"></div>Loading carousel images...</div></li>';\n    \n    \n    // Make AJAX call to get drinks for carousel\n    const formData = new FormData();\n    formData.append('action', 'drinks_filter_carousel');\n    formData.append('search_term', filterTerm);\n    formData.append('figcaption_text', matchTerm);\n    \n    // ////console.log('Drinks Plugin (frontend.js): AJAX params - search_term:', filterTerm, 'figcaption_text:', matchTerm);\n    \n    // Use localized WordPress AJAX URL\n    const ajaxUrl = window.drinksPluginAjax ? window.drinksPluginAjax.ajaxurl : '/wp-admin/admin-ajax.php';\n    // ////console.log('Drinks Plugin (loadCarouselImages): Using AJAX URL:', ajaxUrl);\n    \n    fetch(ajaxUrl, {\n        method: 'POST',\n        body: formData\n    })\n    .then(response => {\n        // ////console.log('Drinks Plugin (loadCarouselImages): AJAX response status:', response.status);\n        return response.text();\n    })\n    .then(html => {\n\n        // Replace the loading slide with the new slides\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = html;\n        \n        // Extract and display the search results header\n        const searchHeader = tempDiv.querySelector('.drinks-search-results-header');\n        if (searchHeader) {\n            //console.log('Drinks Plugin: Found search header:', searchHeader.textContent);\n            const carouselHeader = overlay.querySelector('.jetpack-carousel-lightbox-header');\n            if (carouselHeader) {\n                const existingHeader = carouselHeader.querySelector('.drinks-search-results-header');\n                if (existingHeader) existingHeader.remove();\n                carouselHeader.insertBefore(searchHeader.cloneNode(true), carouselHeader.firstChild);\n            }\n        }\n        \n        const newSlides = tempDiv.querySelectorAll('li');\n        \n        // Error handling: No results found - show 404 content inside carousel\n        if (newSlides.length === 0) {\n            // Show 404 content inside the carousel (no redirect)\n            slidesContainer.innerHTML = `\n                <li class=\"wp-block-jetpack-slideshow_slide swiper-slide drinks-404-slide\">\n                    <div class=\"drinks-404-content\">\n                        <h1 class=\"wp-block-heading has-text-align-center\">404</h1>\n                        <p class=\"has-text-align-center\">Content Missing</p>\n                        ${filterTerm ? '<p class=\"has-text-align-center\">No results found for: <strong>' + filterTerm + '</strong></p>' : ''}\n                    </div>\n                </li>\n            `;\n            \n            // Update search header to show 0 results\n            const carouselHeader = overlay.querySelector('.jetpack-carousel-lightbox-header');\n            if (carouselHeader) {\n                const existingHeader = carouselHeader.querySelector('.drinks-search-results-header');\n                if (existingHeader) {\n                    existingHeader.textContent = 'Search Results: 0';\n                } else {\n                    const newHeader = document.createElement('h5');\n                    newHeader.className = 'drinks-search-results-header';\n                    newHeader.textContent = 'Search Results: 0';\n                    carouselHeader.insertBefore(newHeader, carouselHeader.firstChild);\n                }\n            }\n            \n            return;\n        }\n        \n        // Get Swiper instance before clearing\n        const slideshowContainer = overlay.querySelector('.wp-block-jetpack-slideshow_container');\n        const swiper = slideshowContainer?.swiper;\n        \n        // If Swiper exists, use its API to remove all slides first\n        if (swiper) {\n            swiper.removeAllSlides();\n        } else {\n            // Fallback: Clear the container directly\n            slidesContainer.innerHTML = '';\n        }\n        \n        // Add all new slides to the DOM\n        newSlides.forEach((slide, index) => {\n            slidesContainer.appendChild(slide.cloneNode(true));\n        });\n        \n        // Apply dynamic styling to carousel slides based on drink categories\n        ucStyleLightBoxesByPageID(container?.querySelector('img') || document.querySelector('img'));\n        \n        // Initialize Jetpack slideshow functionality\n        initializeJetpackSlideshow(overlay);\n        \n        // ////console.log('Drinks Plugin (loadCarouselImages): Jetpack carousel loaded with', slidesContainer.children.length, 'slides');\n    })\n    .catch(error => {\n        console.error('Drinks Plugin: Error loading carousel images:', error);\n        \n        // If filterTerm was used (search mode), redirect to default search page\n        if (filterTerm) {\n            const loadingSlide = slidesContainer.querySelector('.jetpack-carousel-loading');\n            if (loadingSlide) {\n                loadingSlide.innerHTML = '<div class=\"jetpack-carousel-loading\">Error loading drinks. Redirecting to search page...</div>';\n            }\n            setTimeout(() => {\n                closeCarousel();\n                window.location.href = '/?s=' + encodeURIComponent(filterTerm);\n            }, 1500);\n        } else {\n            // No filterTerm - show error message only\n            const loadingSlide = slidesContainer.querySelector('.jetpack-carousel-loading');\n            if (loadingSlide) {\n                loadingSlide.innerHTML = '<div class=\"jetpack-carousel-loading\">Error loading carousel images</div>';\n            }\n        }\n    });\n}\n\n/**\n * Initialize/Update Jetpack slideshow after loading new slides\n * Jetpack initializes the carousel automatically at page load\n * This function just updates Swiper when new slides are loaded\n */\nfunction initializeJetpackSlideshow(overlay) {    \n    const slideshowContainer = overlay.querySelector('.wp-block-jetpack-slideshow_container');\n    \n    // Jetpack initializes Swiper at page load\n    // Just update it with the new slides\n    if (slideshowContainer && slideshowContainer.swiper) {\n        const swiper = slideshowContainer.swiper;\n        \n        // Important: Destroy loop before updating to prevent DOM manipulation issues\n        if (swiper.params.loop) {\n            swiper.loopDestroy();\n        }\n        \n        // Update Swiper to recognize new slides\n        swiper.update();\n        \n        // Apply adaptive loop configuration based on slide count\n        const slidesCount = swiper.slides.length;\n        if (slidesCount <= 3) {\n            // Small carousel: full duplication\n            swiper.params.loop = true;\n            swiper.params.loopedSlides = slidesCount;\n            swiper.params.loopAdditionalSlides = 1;\n            swiper.loopCreate();\n            swiper.update();\n        } else if (slidesCount <= 8) {\n            // Medium carousel: half duplication\n            swiper.params.loop = true;\n            swiper.params.loopedSlides = Math.ceil(slidesCount / 2);\n            swiper.params.loopAdditionalSlides = Math.max(2, Math.floor(slidesCount * 0.3));\n            swiper.loopCreate();\n            swiper.update();\n        } else {\n            // Large carousel: no loop\n            swiper.params.loop = false;\n        }\n        \n        // Force Swiper to recalculate dimensions and rendering\n        swiper.updateSize();\n        swiper.updateSlides();\n        swiper.updateProgress();\n        swiper.updateSlidesClasses();\n        \n        // Configure custom pagination to show correct slide numbers (excluding loop clones)\n        if (swiper.params.pagination && swiper.params.pagination.el) {\n            // Helper function to update pagination display\n            const updatePaginationDisplay = () => {\n                const paginationEl = overlay.querySelector('.swiper-pagination-custom');\n                if (!paginationEl) return;\n                \n                // Count only non-duplicate slides\n                const nonDuplicateSlides = Array.from(swiper.slides).filter(\n                    slide => !slide.classList.contains('swiper-slide-duplicate')\n                );\n                const realSlidesCount = nonDuplicateSlides.length;\n                \n                // Use realIndex which is 0-based and excludes duplicates\n                const realCurrent = (swiper.realIndex % realSlidesCount) + 1;\n                \n                paginationEl.textContent = realCurrent + '/' + realSlidesCount;\n            };\n            \n            // Set up custom pagination formatter (for Swiper's built-in pagination)\n            // The 'current' parameter passed includes duplicates, so we use realIndex instead\n            swiper.params.pagination.renderCustom = function(swiperInstance, current, total) {\n                // Count only non-duplicate slides\n                const nonDuplicateSlides = Array.from(swiperInstance.slides).filter(\n                    slide => !slide.classList.contains('swiper-slide-duplicate')\n                );\n                const realSlidesCount = nonDuplicateSlides.length;\n                \n                // Use realIndex which is 0-based and excludes duplicates\n                const realCurrent = (swiperInstance.realIndex % realSlidesCount) + 1;\n                \n                return realCurrent + '/' + realSlidesCount;\n            };\n            \n            // Force pagination update on initialization\n            swiper.params.pagination.type = 'custom';\n            \n            // Listen for slide changes to update pagination\n            swiper.on('slideChange', updatePaginationDisplay);\n            \n            // Initialize pagination immediately\n            if (swiper.pagination) {\n                swiper.pagination.render();\n                swiper.pagination.update();\n            }\n        }\n        \n        // Go to first real slide (not the loop duplicate)\n        // For loop mode, slide index 1 is usually the first real slide\n        const startIndex = swiper.params.loop ? 1 : 0;\n        swiper.slideTo(startIndex, 0); // Go to slide with no animation\n        \n        // Final update to ensure everything is rendered\n        requestAnimationFrame(() => {\n            swiper.update();\n            \n            // Update pagination using the custom formatter\n            if (swiper.pagination) {\n                swiper.pagination.render();\n                swiper.pagination.update();\n            }\n        });\n    } else {\n        // Swiper not initialized yet (e.g., search page) - manually initialize it\n        console.log('Drinks Plugin: Swiper not found, initializing manually');\n        \n        if (!slideshowContainer) {\n            console.error('Drinks Plugin: Slideshow container not found');\n            return;\n        }\n        \n        // Check if Swiper library is available\n        if (typeof Swiper === 'undefined') {\n            console.error('Drinks Plugin: Swiper library not loaded');\n            return;\n        }\n        \n        // Count slides to determine if we need loop mode\n        const slidesWrapper = slideshowContainer.querySelector('.swiper-wrapper');\n        const slidesCount = slidesWrapper ? slidesWrapper.children.length : 0;\n        \n        // Adaptive loop configuration based on carousel size\n        let loopConfig;\n        if (slidesCount <= 3) {\n            // Small carousel: loop with full duplication for smooth infinite scrolling\n            loopConfig = {\n                loop: true,\n                loopedSlides: slidesCount,\n                loopAdditionalSlides: 1\n            };\n        } else if (slidesCount <= 8) {\n            // Medium carousel: loop with half duplication to hide repeats\n            loopConfig = {\n                loop: true,\n                loopedSlides: Math.ceil(slidesCount / 2),\n                loopAdditionalSlides: Math.max(2, Math.floor(slidesCount * 0.3))\n            };\n        } else {\n            // Large carousel: disable loop for predictable sequential browsing\n            loopConfig = {\n                loop: false\n            };\n        }\n        \n        // Initialize Swiper with Jetpack-like configuration\n        const swiper = new Swiper(slideshowContainer, {\n            effect: 'slide',\n            grabCursor: true,\n            ...loopConfig,\n            navigation: {\n                nextEl: slideshowContainer.querySelector('.swiper-button-next'),\n                prevEl: slideshowContainer.querySelector('.swiper-button-prev'),\n            },\n            pagination: {\n                el: slideshowContainer.querySelector('.swiper-pagination'),\n                type: 'custom',\n                clickable: true,\n                renderCustom: function(swiperInstance, current, total) {\n                    // Count only non-duplicate slides\n                    const nonDuplicateSlides = Array.from(swiperInstance.slides).filter(\n                        slide => !slide.classList.contains('swiper-slide-duplicate')\n                    );\n                    const realSlidesCount = nonDuplicateSlides.length;\n                    const realCurrent = (swiperInstance.realIndex % realSlidesCount) + 1;\n                    return realCurrent + '/' + realSlidesCount;\n                }\n            },\n            keyboard: {\n                enabled: true,\n            },\n            a11y: {\n                enabled: true,\n            },\n        });\n        \n        // Update pagination on slide change\n        swiper.on('slideChange', () => {\n            if (swiper.pagination) {\n                swiper.pagination.render();\n                swiper.pagination.update();\n            }\n        });\n        \n        console.log('Drinks Plugin: Swiper initialized with', slidesCount, 'slides');\n    }\n}\n\n/**\n * Add basic slideshow functionality if Jetpack is not available\n */\n/* function addBasicSlideshowFunctionality(overlay) {\n    //console.log('Drinks Plugin: Setting up fallback slideshow functionality...A FallBack');\n    \n    const slidesContainer = overlay.querySelector('.wp-block-jetpack-slideshow_swiper-wrapper');\n    const slides = slidesContainer.querySelectorAll('.wp-block-jetpack-slideshow_slide');\n    const prevButton = overlay.querySelector('.wp-block-jetpack-slideshow_button-prev');\n    const nextButton = overlay.querySelector('.wp-block-jetpack-slideshow_button-next');\n    const pagination = overlay.querySelector('.wp-block-jetpack-slideshow_pagination');\n    \n    // ////console.log('Drinks Plugin: Fallback - Found', slides.length, 'slides');\n    \n    // Start at slide 1 (index 1) because index 0 is the clone of the last slide\n    // This ensures the clicked image (which should be the first real slide) is shown\n    let currentSlide = 1;\n    \n    // Show first slide\n    showSlide(currentSlide);\n    \n    // Previous button\n    if (prevButton) {\n        prevButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            currentSlide = (currentSlide - 1 + slides.length) % slides.length;\n            showSlide(currentSlide);\n        });\n    }\n    \n    // Next button\n    if (nextButton) {\n        nextButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            currentSlide = (currentSlide + 1) % slides.length;\n            showSlide(currentSlide);\n        });\n    }\n    \n    // Pagination\n    if (pagination && slides.length > 1) {\n        // Only create bullets for the real slides (not the clones)\n        // For 5 real slides + 2 clones = 7 total, we want 5 bullets\n        const realSlidesCount = slides.length - 2; // Subtract 2 clones\n        for (let i = 0; i < realSlidesCount; i++) {\n            const bullet = document.createElement('button');\n            bullet.className = 'swiper-pagination-bullet';\n            bullet.setAttribute('aria-label', `Go to slide ${i + 1}`);\n            bullet.addEventListener('click', () => {\n                // Map bullet index to actual slide index (accounting for clone at start)\n                currentSlide = i + 1; // +1 because slide 0 is a clone\n                showSlide(currentSlide);\n            });\n            pagination.appendChild(bullet);\n        }\n    }\n    \n    function showSlide(index) {\n        // ////console.log('Drinks Plugin: Fallback - Showing slide:', index);\n        slides.forEach((slide, i) => {\n            if (i === index) {\n                slide.style.display = 'flex';\n                slide.classList.add('active');\n                // ////console.log('Drinks Plugin: Added active class to slide', i);\n            } else {\n                slide.style.display = 'none';\n                slide.classList.remove('active');\n            }\n        });\n        \n        // Update pagination if it exists\n        if (pagination) {\n            const bullets = pagination.querySelectorAll('.swiper-pagination-bullet');\n            bullets.forEach((bullet, i) => {\n                // Map slide index to bullet index (slide index - 1 because slide 0 is a clone)\n                bullet.classList.toggle('swiper-pagination-bullet-active', i === (index - 1));\n            });\n        }\n    }\n    \n    // ////console.log('Drinks Plugin: Fallback slideshow functionality set up successfully');\n} */\n\n/**\n * Enhanced styling functions for dynamic category-based styling\n */\n\n// Enhanced styling function with category detection\nfunction styleImagesByPageID(variableID, targetContainer) {\n\t\n\tif(!targetContainer){\n\t\ttargetContainer = '.entry-content';\n\t}\n\n\t// Get all images within target container\n\t// Handle both string selectors AND HTML elements\n\tlet imageContainer;\n\tif (typeof targetContainer === 'string') {\n\t\timageContainer = document.querySelector(targetContainer);\n\t} else if (targetContainer instanceof HTMLElement) {\n\t\timageContainer = targetContainer; // Already an element\n\t} else {\n\t\treturn; // Invalid input\n\t}\n\t\n\tif (!imageContainer) {    //  If no target, no action. \n\t\treturn;\n\t}\n\n\tconst images = imageContainer.querySelectorAll('img');\n\n\timages.forEach(img => {\n\t\t// Extract category code from image title/alt\n\t\tconst categoryCode = extractCategoryFromImage(img);\n\t\tlet currentVariableID = variableID;\n\t\t\n\t\t// Override variableID with category-based styling if category detected\n\t\tif (categoryCode) {\n\t\t\tcurrentVariableID = mapCategoryCodeToVariable(categoryCode);\n\t\t}\n\n\t\tif(currentVariableID.includes(\"springtime\")){\n\t\t\tcurrentVariableID = \"summertime\";\n\t\t}  //  (Else currentVariableID = currentVariableID as passed)\n\n\t\t// Compose variable names\n\t\tconst borderVar = `var(--${currentVariableID}-border)`;\n\t\tconst fontColorVar = `var(--${currentVariableID}-font-color)`;\n\t\tconst shadowVar = `var(--${currentVariableID}-shadow)`;\n\n\t\t// 1. Apply border variable\n\t\timg.style.border = borderVar;\n\n\t\t// 2 & 3. If image is in a figure with figcaption, style the caption\n\t\tconst figure = img.closest('figure');\n\t\tif (figure) {\n\t\t\tconst caption = figure.querySelector('figcaption');\n\t\t\tif (caption) {\n\t\t\t\tcaption.style.color = fontColorVar;\n\t\t\t\tcaption.style.textShadow = shadowVar;\n\t\t\t}\n\t\t}\n\t});\n}\n\n// Function to extract category code from image title/alt/filename\nfunction extractCategoryFromImage(img) {\n\t////console.log('Drinks Plugin (extractCategoryFromImage): Analyzing image:', img);\n\t////console.log('Drinks Plugin (extractCategoryFromImage): Image src:', img.src);\n\t////console.log('Drinks Plugin (extractCategoryFromImage): Image title:', img.title);\n\t////console.log('Drinks Plugin (extractCategoryFromImage): Image alt:', img.alt);\n\t\n\t// Check title first\n\tconst title = img.title || img.alt || '';\n\t////console.log('Drinks Plugin (extractCategoryFromImage): Checking title/alt:', title);\n\tlet categoryMatch = title.match(/_([A-Z]{2})/);\n\tif (categoryMatch) {\n\t\t////console.log('Drinks Plugin (extractCategoryFromImage): Found category in title:', categoryMatch[1]);\n\t\treturn categoryMatch[1]; // Returns \"AU\", \"RO\", etc.\n\t}\n\t\n\t// If not found in title/alt, check the filename (src)\n\tconst src = img.src || '';\n\t////console.log('Drinks Plugin (extractCategoryFromImage): Checking src:', src);\n\tcategoryMatch = src.match(/_([A-Z]{2})/);\n\tif (categoryMatch) {\n\t\t////console.log('Drinks Plugin (extractCategoryFromImage): Found category in src:', categoryMatch[1]);\n\t\treturn categoryMatch[1]; // Returns \"AU\", \"RO\", etc.\n\t}\n\t\n\t////console.log('Drinks Plugin (extractCategoryFromImage): No category found');\n\treturn null;\n}\n\n// Function to map category codes to variable names\nfunction mapCategoryCodeToVariable(categoryCode) {\n\tconst categoryMap = {\n\t\t'AU': 'autumnal',\n\t\t'RO': 'romantic', \n\t\t'EV': 'everyday',\n\t\t'SU': 'summertime',\n\t\t'SP': 'summertime', // springtime maps to summertime\n\t\t'FP': 'fireplace',\n\t\t'SO': 'special-occasion',\n\t\t'WI': 'winter'\n\t};\n\t\n\treturn categoryMap[categoryCode] || 'std';\n}\n\n// Function to style lightboxes based on clicked image\nfunction ucStyleLightBoxesByPageID(clickedImage) {\n\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Starting lightbox styling for image:', clickedImage.src);\n\t\n\t// Check if clicked image activates a Pop Out Lightbox\n\tif (clickedImage.closest('[data-cocktail-pop-out=\"true\"]')) {\n\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Detected pop-out lightbox');\n\t\t\n\t\t// Wait a bit for the pop-out content to load, then find the image in the pop-out\n\t\tsetTimeout(() => {\n\t\t\tconst popoutImage = document.querySelector('.drinks-content-popout img');\n\t\t\tif (popoutImage) {\n\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Found image in pop-out:', popoutImage.src);\n\t\t\t\tconst categoryCode = extractCategoryFromImage(popoutImage);\n\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Extracted category code:', categoryCode);\n\t\t\t\t\n\t\t\t\tif (categoryCode) {\n\t\t\t\t\tconst categoryVariable = mapCategoryCodeToVariable(categoryCode);\n\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Mapped to variable:', categoryVariable);\n\t\t\t\t\tstyleImagesByPageID(categoryVariable, '.drinks-content-popout');\n\t\t\t\t\t\n\t\t\t\t\t// Also style the h1 element and list items\n\t\t\t\t\tconst popoutContainer = document.querySelector('.drinks-content-popout');\n\t\t\t\t\tif (popoutContainer) {\n\t\t\t\t\t\t// Style the h1 element\n\t\t\t\t\t\tconst h1Element = popoutContainer.querySelector('h1');\n\t\t\t\t\t\tif (h1Element) {\n\t\t\t\t\t\t\th1Element.style.color = '#241547';\n\t\t\t\t\t\t\th1Element.style.textShadow = 'none';\n\t\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Applied color and shadow to h1:', h1Element.textContent);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): No h1 element found in pop-out');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Style the list items with accent color\n\t\t\t\t\t\tconst listItems = popoutContainer.querySelectorAll('li');\n\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Found', listItems.length, 'list items to style');\n\t\t\t\t\t\t\n\t\t\t\t\t\tlistItems.forEach((li, index) => {\n\t\t\t\t\t\t\tli.style.color = `var(--${categoryVariable}-accent-color)`;\n\t\t\t\t\t\t\tli.style.textShadow = `var(--${categoryVariable}-shadow)`;\n\t\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Applied accent color and shadow var(--' + categoryVariable + '-accent-color) to li', index + 1);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Style em elements within the li to be black\n\t\t\t\t\t\t\tconst emElements = li.querySelectorAll('em');\n\t\t\t\t\t\t\temElements.forEach((em, emIndex) => {\n\t\t\t\t\t\t\t\tem.style.color = \"black\";\n\t\t\t\t\t\t\t\tem.style.fontWeight = \"bold\";\n\t\t\t\t\t\t\t\tem.style.fontStyle = \"normal\";\n\t\t\t\t\t\t\t\tem.style.marginRight = \"0.25em\";\n\t\t\t\t\t\t\t\tem.style.textShadow = \"none\"; // Remove shadow from black text for better readability\n\t\t\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Styled em element', emIndex + 1, 'to black in li', index + 1);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): No image found in pop-out, using clicked image');\n\t\t\t\tconst categoryCode = extractCategoryFromImage(clickedImage);\n\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Extracted category code from clicked image:', categoryCode);\n\t\t\t\t\n\t\t\t\tif (categoryCode) {\n\t\t\t\t\tconst categoryVariable = mapCategoryCodeToVariable(categoryCode);\n\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Mapped to variable:', categoryVariable);\n\t\t\t\t\tstyleImagesByPageID(categoryVariable, '.drinks-content-popout');\n\t\t\t\t\t\n\t\t\t\t\t// Also style the h1 element and list items\n\t\t\t\t\tconst popoutContainer = document.querySelector('.drinks-content-popout');\n\t\t\t\t\tif (popoutContainer) {\n\t\t\t\t\t\t// Style the h1 element\n\t\t\t\t\t\tconst h1Element = popoutContainer.querySelector('h1');\n\t\t\t\t\t\tif (h1Element) {\n\t\t\t\t\t\t\th1Element.style.color = '#241547';\n\t\t\t\t\t\t\th1Element.style.textShadow = 'none';\n\t\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Applied color and shadow to h1:', h1Element.textContent);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): No h1 element found in pop-out');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Style the list items with accent color\n\t\t\t\t\t\tconst listItems = popoutContainer.querySelectorAll('li');\n\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Found', listItems.length, 'list items to style');\n\t\t\t\t\t\t\n\t\t\t\t\t\tlistItems.forEach((li, index) => {\n\t\t\t\t\t\t\tli.style.color = `var(--${categoryVariable}-accent-color)`;\n\t\t\t\t\t\t\tli.style.textShadow = `var(--${categoryVariable}-shadow)`;\n\t\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Applied accent color and shadow var(--' + categoryVariable + '-accent-color) to li', index + 1);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Style em elements within the li to be black\n\t\t\t\t\t\t\tconst emElements = li.querySelectorAll('em');\n\t\t\t\t\t\t\temElements.forEach((em, emIndex) => {\n\t\t\t\t\t\t\t\tem.style.color = \"black\";\n\t\t\t\t\t\t\t\tem.style.fontWeight = \"bold\";\n\t\t\t\t\t\t\t\tem.style.fontStyle = \"normal\";\n\t\t\t\t\t\t\t\tem.style.marginRight = \"0.25em\";\n\t\t\t\t\t\t\t\tem.style.textShadow = \"none\"; // Remove shadow from black text for better readability\n\t\t\t\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Styled em element', emIndex + 1, 'to black in li', index + 1);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 100); // Small delay to ensure content is loaded\n\t} \n\t\n\t// Check if carousel overlay exists in DOM (regardless of how it was opened)\n\tconst carouselOverlay = document.querySelector('.jetpack-carousel-lightbox-overlay.active');\n\tif (carouselOverlay) {\n\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Detected active carousel lightbox');\n\t\t\n\t\t// For each slide in the carousel\n\t\tconst carouselSlides = carouselOverlay.querySelectorAll('.wp-block-jetpack-slideshow_slide');\n\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Found', carouselSlides.length, 'carousel slides');\n\t\t\n\t\tcarouselSlides.forEach((slide, slideIndex) => {\n\t\t\tconst slideImage = slide.querySelector('img');\n\t\t\tif (slideImage) {\n\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Processing slide', slideIndex + 1, ':', slideImage.src);\n\t\t\t\tconst categoryCode = extractCategoryFromImage(slideImage);\n\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Extracted category code for slide', slideIndex + 1, ':', categoryCode);\n\t\t\t\t\n\t\t\t\tif (categoryCode) {\n\t\t\t\t\tconst categoryVariable = mapCategoryCodeToVariable(categoryCode);\n\t\t\t\t\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Mapped to variable for slide', slideIndex + 1, ':', categoryVariable);\n\t\t\t\t\tstyleImagesByPageID(categoryVariable, slide);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t\n\t////console.log('Drinks Plugin (ucStyleLightBoxesByPageID): Lightbox styling complete');\n}\n\n// Make functions globally available\nwindow.drinksPluginLightbox = {\n    init: initLightbox,\n    open: openLightbox,\n    close: closeLightbox,\n    setup: setupLightboxForImages\n};\n\nwindow.drinksPluginPopOut = {\n    init: initLightbox,\n    open: openCocktailPopOutLightbox,\n    close: closeDrinksContentLightbox,\n    test: testDrinksContent\n};\n\n/*\n*   Share Carousel fns for global access (so theme can Custom search)\n*/\nwindow.drinksPluginCarousel = {\n    summon: ucSummonCarousel,\n    loadImages: loadCarouselImages,\n    close: closeCarousel\n};\n\n// Add global test function for debugging\nwindow.testDrinksContent = testDrinksContent;\n\n// Make styling functions globally available\nwindow.drinksPluginStyling = {\n    styleImagesByPageID: styleImagesByPageID,\n    extractCategoryFromImage: extractCategoryFromImage,\n    mapCategoryCodeToVariable: mapCategoryCodeToVariable,\n    ucStyleLightBoxesByPageID: ucStyleLightBoxesByPageID\n};\n\n/**\n * Image Orientation Detection and Classification\n * Automatically assigns .portrait or .landscape classes to Image blocks\n * based on their natural dimensions\n */\nfunction ucPortraitLandscape(imageElement) {\n     //////console.log(' ucPortraitLandscape: Analyzing dimensions for aspect ratio management:', imageElement?.src || 'unknown');\n    \n    if (!imageElement || imageElement.tagName !== 'IMG') {\n        console.warn(' ucPortraitLandscape: Invalid image element:', imageElement);\n        return;\n    }\n\n    // ////console.log(' ucPortraitLandscape: Image element found:', {\n    //     src: imageElement.src,\n    //     alt: imageElement.alt,\n    //     complete: imageElement.complete,\n    //     naturalWidth: imageElement.naturalWidth,\n    //     naturalHeight: imageElement.naturalHeight\n    // });\n\n    // Find the closest figure or container element\n    const container = imageElement.closest('figure') || imageElement.closest('.wp-block-image') || imageElement.parentElement;\n    \n    if (!container) {\n         console.warn(' ucPortraitLandscape: No container found for image:', imageElement.src);\n        return;\n    }\n\n    // ////console.log(' ucPortraitLandscape: Container found:', {\n    //     tagName: container.tagName,\n    //     className: container.className,\n    //     id: container.id\n    // });\n\n    // Skip if already processed or if it's a special container\n    if (container.classList.contains('pop-off') || \n        container.classList.contains('wp-block-gallery') ||\n        container.classList.contains('portrait') ||\n        container.classList.contains('landscape')) {\n        // ////console.log(' ucPortraitLandscape: Skipping container - already processed or special type:', container.className);\n        return;\n    }\n\n    function processImageDimensions() {\n        // ////console.log(' ucPortraitLandscape: Analyzing longest dimension for:', imageElement.src);\n        \n        if (!imageElement.naturalWidth || !imageElement.naturalHeight) {\n            // console.warn(' ucPortraitLandscape: No natural dimensions available:', {\n            //     naturalWidth: imageElement.naturalWidth,\n            //     naturalHeight: imageElement.naturalHeight\n            // });\n            return;\n        }\n\n        // ////console.log(' ucPortraitLandscape: Natural dimensions:', {\n        //     width: imageElement.naturalWidth,\n        //     height: imageElement.naturalHeight,\n        //     ratio: (imageElement.naturalHeight / imageElement.naturalWidth).toFixed(2)\n        // });\n\n        // Remove existing dimension classes\n        const hadPortrait = container.classList.contains('portrait');\n        const hadLandscape = container.classList.contains('landscape');\n        container.classList.remove('portrait', 'landscape');\n        \n        if (hadPortrait || hadLandscape) {\n            // ////console.log(' ucPortraitLandscape: Removed existing dimension classes:', {\n            //     hadPortrait,\n            //     hadLandscape\n            // });\n        }\n\n        // Determine longest dimension for aspect ratio management\n        if (imageElement.naturalHeight > imageElement.naturalWidth) {\n            container.classList.add('portrait');\n            // ////console.log(' ucPortraitLandscape:  Height is longest - Added PORTRAIT class for aspect ratio management');\n            // ////console.log(' ucPortraitLandscape: Updated container classes:', container.className);\n        } else if (imageElement.naturalHeight < imageElement.naturalWidth) {\n            container.classList.add('landscape');\n            // ////console.log(' ucPortraitLandscape:  Width is longest - Added LANDSCAPE class for aspect ratio management');\n            // ////console.log(' ucPortraitLandscape: Updated container classes:', container.className);\n        } else {\n            // ////console.log(' ucPortraitLandscape: Image is square, no dimension class needed');\n        }\n    }\n\n    // Process immediately if image is already loaded\n    if (imageElement.complete && imageElement.naturalWidth && imageElement.naturalHeight) {\n        // ////console.log(' ucPortraitLandscape: Image already loaded, analyzing dimensions immediately');\n        processImageDimensions();\n    } else {\n        // ////console.log(' ucPortraitLandscape: Image not loaded yet, waiting for load event');\n        imageElement.addEventListener('load', () => {\n            // ////console.log(' ucPortraitLandscape: Image load event fired, analyzing dimensions now');\n            processImageDimensions();\n        }, { once: true });\n    }\n}\n\n/**\n * Initialize ucPortraitLandscape dimension analysis for all Image blocks\n */\nfunction initImageOrientationDetection() {\n   // ////console.log(' Drinks Plugin: Initializing ucPortraitLandscape dimension analysis');\n\n    // Process existing images\n    const images = document.querySelectorAll('.wp-block-image img, figure img');\n   // ////console.log(' initImageOrientationDetection: Found', images.length, 'existing images to analyze');\n    \n    images.forEach((img, index) => {\n   //     // ////console.log(` initImageOrientationDetection: Analyzing image ${index + 1}/${images.length}:`, img.src);\n        ucPortraitLandscape(img);\n    });\n\n    // Set up observer for dynamically added images\n    const observer = new MutationObserver((mutations) => {\n        let newImagesFound = 0;\n        \n        mutations.forEach((mutation) => {\n            if (mutation.addedNodes.length > 0) {\n                mutation.addedNodes.forEach((node) => {\n                    if (node.nodeType === 1) { // Element node\n                        // Check if the added node is an image\n                        if (node.tagName === 'IMG') {\n                            // ////console.log(' initImageOrientationDetection: New image node detected:', node.src);\n                            ucPortraitLandscape(node);\n                            newImagesFound++;\n                        }\n                        // Check for images within the added node\n                        const images = node.querySelectorAll ? node.querySelectorAll('img') : [];\n                        if (images.length > 0) {\n                            // ////console.log(' initImageOrientationDetection: Found', images.length, 'images in new node');\n                            images.forEach((img, index) => {\n                                // ////console.log(` initImageOrientationDetection: Analyzing new image ${index + 1}/${images.length}:`, img.src);\n                                ucPortraitLandscape(img);\n                                newImagesFound++;\n                            });\n                        }\n                    }\n                });\n            }\n        });\n        \n        if (newImagesFound > 0) {\n            // ////console.log(` initImageOrientationDetection: Analyzed ${newImagesFound} new images via observer`);\n        }\n    });\n\n    // Observe the entire document for added nodes\n    observer.observe(document.body, {\n        childList: true,\n        subtree: true\n    });\n    \n  //  ////console.log(' initImageOrientationDetection: MutationObserver set up to watch for new images');\n}\n\n/**\n * Search Results Page - Show inline carousel with search results\n */\nfunction initSearchPageCarousel() {\n\t// Check if we're on the search results page\n\tconst isSearchPage = document.body.classList.contains('search') || \n\t                     document.body.classList.contains('search-results');\n\t\n\tif (!isSearchPage) return;\n\t\n\t// Get search term from URL\n\tconst urlParams = new URLSearchParams(window.location.search);\n\tconst searchTerm = urlParams.get('s');\n\t\n\tif (!searchTerm) return;\n\t\n\t// Get main element to move carousel into for inline display\n\tconst mainElement = document.querySelector('body.search main');\n\t\n\t// Summon carousel in inline mode\n\tucSummonCarousel({\n\t\tmatchTerm: '',\n\t\tfilterTerm: searchTerm,\n\t\tcontainer: null,\n\t\tisOverlay: false,  // Inline mode - allow page scrolling\n\t\tclosePopOut: false,  // No pop-out on page load\n\t\tmoveToElement: mainElement  // Move into main for inline display\n\t});\n}\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initLightbox);\n} else {\n    initLightbox();\n}\n\n// ESC key closes lightbox/carousel\ndocument.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n        closeLightbox();\n        closeDrinksContentLightbox();\n        closeCarousel();\n    }\n});\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initImageOrientationDetection);\n} else {\n    initImageOrientationDetection();\n}\n\n// Initialize search page carousel when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initSearchPageCarousel);\n} else {\n    initSearchPageCarousel();\n}\n\n// Also initialize on window load to catch any late-loading images\nwindow.addEventListener('load', () => {\n     //////console.log(' Drinks Plugin: Window load event fired, re-analyzing all images');\n    // Re-analyze all images in case some loaded after DOMContentLoaded\n    const images = document.querySelectorAll('.wp-block-image img, figure img');\n    // ////console.log(' Window load: Found', images.length, 'images to re-analyze');\n    images.forEach((img, index) => {\n        // ////console.log(` Window load: Re-analyzing image ${index + 1}/${images.length}:`, img.src);\n        ucPortraitLandscape(img);\n    });\n});\n"],"names":["currentLightbox","isAnimating","currentDrinksContentLightbox","currentCarousel","currentCarouselFilterTerm","initLightbox","document","addEventListener","handleLightboxClick","handleCocktailPopOutClick","handleCocktailCarouselClick","handleDrinkFilterLinkClick","handleLightboxKeydown","handleLightboxTouch","passive","setupLightboxForImages","setupCocktailFeaturesForImages","setupLightboxObserver","setupCarouselOverlay","event","container","target","closest","hasAttribute","preventDefault","stopPropagation","img","querySelector","openLightbox","openCocktailPopOutLightbox","getAttribute","tagName","ucSummonCarousel","matchTerm","filterTerm","isOverlay","closePopOut","link","console","error","key","closeLightbox","src","alt","caption","figcaption","textContent","overlay","createLightboxOverlay","body","appendChild","requestAnimationFrame","classList","add","style","overflow","imageId","dataset","id","classMatch","className","match","imageSrc","imageAlt","createDrinksContentLightboxOverlay","loadDrinksForContentLightbox","setupPopOutToCarouselClick","popoutImage","popoutH1","cursor","e","closeDrinksContentLightbox","setTimeout","context","log","getElementById","moveToElement","loadCarouselImages","opacity","pointerEvents","remove","parentNode","removeChild","createElement","innerHTML","closeButton","initialImageSrc","initialImageAlt","images","querySelectorAll","forEach","cocktailPopOutContainers","cocktailCarouselContainers","observer","MutationObserver","mutations","mutation","addedNodes","length","node","nodeType","lightboxImages","observe","childList","subtree","excludeImageId","contentContainer","loadingElement","formData","FormData","append","ajaxUrl","window","drinksPluginAjax","ajaxurl","fetch","method","then","response","json","data","success","ucStyleLightBoxesByPageID","addDrinksContentNavigation","catch","prevButton","nextButton","testDrinksContent","containers","lightbox","global","drinksPluginPopOut","closeCarousel","seeMoreButton","handleSeeMoreClick","carouselToClose","slidesContainer","homeUrl","drinksPluginConfig","searchUrl","encodeURIComponent","location","href","trim","matchDisplay","filterDisplay","text","html","tempDiv","searchHeader","carouselHeader","existingHeader","insertBefore","cloneNode","firstChild","newSlides","newHeader","slideshowContainer","swiper","removeAllSlides","slide","index","initializeJetpackSlideshow","loadingSlide","params","loop","loopDestroy","update","slidesCount","slides","loopedSlides","loopAdditionalSlides","loopCreate","Math","ceil","max","floor","updateSize","updateSlides","updateProgress","updateSlidesClasses","pagination","el","updatePaginationDisplay","paginationEl","nonDuplicateSlides","Array","from","filter","contains","realSlidesCount","realCurrent","realIndex","renderCustom","swiperInstance","current","total","type","on","render","startIndex","slideTo","Swiper","slidesWrapper","children","loopConfig","effect","grabCursor","navigation","nextEl","prevEl","clickable","keyboard","enabled","a11y","styleImagesByPageID","variableID","targetContainer","imageContainer","HTMLElement","categoryCode","extractCategoryFromImage","currentVariableID","mapCategoryCodeToVariable","includes","borderVar","fontColorVar","shadowVar","border","figure","color","textShadow","title","categoryMatch","categoryMap","clickedImage","categoryVariable","popoutContainer","h1Element","listItems","li","emElements","em","emIndex","fontWeight","fontStyle","marginRight","carouselOverlay","carouselSlides","slideIndex","slideImage","drinksPluginLightbox","init","open","close","setup","test","drinksPluginCarousel","summon","loadImages","drinksPluginStyling","ucPortraitLandscape","imageElement","warn","parentElement","processImageDimensions","naturalWidth","naturalHeight","hadPortrait","hadLandscape","complete","once","initImageOrientationDetection","newImagesFound","initSearchPageCarousel","isSearchPage","urlParams","URLSearchParams","search","searchTerm","get","mainElement","readyState"],"sourceRoot":""}