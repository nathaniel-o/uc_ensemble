(()=>{let t=null,e=!1;function n(){document.addEventListener("click",o),document.addEventListener("keydown",a),document.addEventListener("touchstart",i,{passive:!0}),r(),new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.length>0&&t.addedNodes.forEach(t=>{1===t.nodeType&&t.querySelector&&t.querySelectorAll("[data-wp-lightbox] img").forEach(t=>{const e=t.closest("[data-wp-lightbox]");e&&(e.style.cursor="pointer")})})})}).observe(document.body,{childList:!0,subtree:!0})}function o(t){const e=t.target.closest("[data-wp-lightbox]");if(!e)return;t.preventDefault(),t.stopPropagation();const n=e.querySelector("img");n&&s(n,e)}function a(e){t&&"Escape"===e.key&&c()}function i(e){t&&e.target===t&&c()}function s(n,o){if(e)return;const a=n.src,i=n.alt||"";let s="";const r=o.querySelector("figcaption");r&&(s=r.textContent);const l=function(t,e,n){const o=document.createElement("div");o.className="drinks-lightbox-overlay",o.innerHTML=`\n        <div class="drinks-lightbox-content">\n            <button class="drinks-lightbox-close" aria-label="Close lightbox">&times;</button>\n            <img class="drinks-lightbox-image" src="${t}" alt="${e}" />\n            ${n?`<div class="drinks-lightbox-caption">${n}</div>`:""}\n        </div>\n    `;return o.querySelector(".drinks-lightbox-close").addEventListener("click",c),o.addEventListener("click",t=>{t.target===o&&c()}),o}(a,i,s);document.body.appendChild(l),requestAnimationFrame(()=>{l.classList.add("active"),t=l,document.body.style.overflow="hidden"})}function c(){t&&!e&&(e=!0,t.classList.remove("active"),document.body.style.overflow="",setTimeout(()=>{t&&t.parentNode&&t.parentNode.removeChild(t),t=null,e=!1},300))}function r(){document.querySelectorAll("[data-wp-lightbox] img").forEach(t=>{const e=t.closest("[data-wp-lightbox]");e&&(e.style.cursor="pointer")})}function l(t){if(!t||"IMG"!==t.tagName)return void console.warn("⚠️ ucPortraitLandscape: Invalid image element:",t);const e=t.closest("figure")||t.closest(".wp-block-image")||t.parentElement;function n(){t.naturalWidth&&t.naturalHeight&&(e.classList.contains("portrait"),e.classList.contains("landscape"),e.classList.remove("portrait","landscape"),t.naturalHeight>t.naturalWidth?e.classList.add("portrait"):t.naturalHeight<t.naturalWidth&&e.classList.add("landscape"))}e?e.classList.contains("pop-off")||e.classList.contains("wp-block-gallery")||e.classList.contains("portrait")||e.classList.contains("landscape")||(t.complete&&t.naturalWidth&&t.naturalHeight?n():t.addEventListener("load",()=>{n()},{once:!0})):console.warn("⚠️ ucPortraitLandscape: No container found for image:",t.src)}function d(){document.querySelectorAll(".wp-block-image img, figure img").forEach((t,e)=>{l(t)});new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.length>0&&t.addedNodes.forEach(t=>{if(1===t.nodeType){"IMG"===t.tagName&&l(t);const e=t.querySelectorAll?t.querySelectorAll("img"):[];e.length>0&&e.forEach((t,e)=>{l(t)})}})})}).observe(document.body,{childList:!0,subtree:!0})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),window.drinksPluginLightbox={init:n,open:s,close:c,setup:r},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d(),window.addEventListener("load",()=>{document.querySelectorAll(".wp-block-image img, figure img").forEach((t,e)=>{l(t)})})})();